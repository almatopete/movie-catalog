<div class="container">
  <a href="#" routerLink="/movie/create/" class="btn btn-success mb-3">Create New Movie</a>

  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Synopsis</th>
          <th>Year</th>
          <th>Cover</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let movie of movies">
        <tr [@enterAnimation]>
          <td>{{ movie.id }}</td>

          <td>
            <!-- Enlace para dirigirse a la vista detallada -->
            <a [routerLink]="['/movie/', movie.id, 'view']" class="movie-link">{{ movie.title }}</a>
          </td>          
          <td>{{ movie.synopsis }}</td>
          <td>{{ movie.year }}</td>
          <td>{{ movie.cover }}</td>
          <td>
            <button type="button" (click)="openDeleteConfirmation(movie.id)" class="btn btn-danger">Delete</button>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="backdrop" [ngStyle]="{'display': deleteModalOpen ? 'block' : 'none'}"></div>
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display': deleteModalOpen ? 'block' : 'none'}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" (click)="closeDeleteConfirmation()">
          <span aria-hidden="true" class="close-icon">&times;</span>
        </button>
        
        <h5 class="modal-title">Confirm Delete</h5>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this movie?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeDeleteConfirmation()">Cancel</button>
        <button type="button" class="btn btn-danger" (click)="deleteMovieConfirmed()">Delete</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
